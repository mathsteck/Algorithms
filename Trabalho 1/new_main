#include <stdio.h>
#include <stdlib.h>
#define TAM_MAX 50

typedef int elem;

typedef struct lista{

    struct lista *inicio,*fim;

}Lista;

typedef struct no{

        elem info;
        struct no *next;
        elem eccentricity;
        elem betweeness_centrality;

}No;

void cria(Lista *L) { // cria lista
     L->inicio=NULL;
     L->fim=NULL;
}

void inserir(Lista *L, elem *x, int *erro) { // inserie elemento na lista
     no *p;

     p=(no*) malloc(sizeof(no));
     if (p==NULL) {
        *erro=1;
        return;
     }
     else *erro=0;
     p->info=*x;
     p->prox=NULL;
     if (L->inicio==NULL)
        L->inicio=p;
     else L->fim->prox=p;
     L->fim=p;
}

int esta_na_lista(Lista *L, elem *x) { //encontrar elemento na lista
    no *p;

    p=L->inicio;
    while ((p!=NULL) && (p->info!=*x)) {
          p=p->prox;
    }

    if (p!=NULL) return(1);
    else return(0);
}

void imprimir(Lista *L) { // imprimir elemento da lista
     no *p;

     p=L->inicio;
     while (p!=NULL) {
           printf("%c ",p->info);
           p=p->prox;
     }

     return;
}

void eccentricity(int v1, int v2);
void betweeness_centrality(int v1, int v2);

int main(){

    Node *v1,*v2;
    FILE *arquivo;
    char nome_arquivo[50];
    char linha[50];
    int *erro; //flag de erro

    v1 = (Node*) malloc(sizeof(Node));
    v2 = (Node*) malloc(sizeof(Node));

    do{

        printf("\nDigite o nome do arquivo:\n");
        scanf("%s",nome_arquivo);
        arquivo = fopen(nome_arquivo,"r");

    }while(arquivo == NULL);


    cria_lista();

    i = 0;


    do{

        fgets(linha, TAM_MAX, arquivo);
        sscanf(linha,"%d %d",&v1[i],&v2[i]);

        inserir(L,v1,v2,&erro);

        i = i + 1;



    }while(!feof(arquivo));



    eccentricity(v1,v2);
    betweeness_centrality(v1,v2);



    system("PAUSE");
    return 0;

}
